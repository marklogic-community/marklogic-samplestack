{
    "options": {
        "additional-query": "<directory-query xmlns='http://marklogic.com/cts'><uri>/questions/</uri></directory-query>",
        "constraint": [
            {
                "name": "userName",
                "value": {
                    "json-property": "userName"
                }
            },
            {
                "name": "id",
                "range": {
                    "facet": "false",
                    "json-property": "id",
                    "type": "xs:string"
                }
            },
            {
                "name": "resolved",
                "value": {
                    "json-property": "accepted"
                }
            },
            {
                "name": "date",
                "range": {
                    "facet": "false",
                    "json-property": "lastActivityDate",
                    "type": "xs:dateTime"
                }
            },
            {
                "name": "tag",
                "range": {
                    "facet": "true",
                    "facet-option": [
                        "frequency-order",
                        "descending",
                        "limit=10"
                    ],
                    "json-property": "tags",
                    "type": "xs:string"
                }
            }
        ],
        "debug": true,
        "default-suggestion-source": {
            "word": {
                "json-property": "title"
            }
        },
        "extract-document-data": {
            "extract-path": [
                "/array-node('answers')",
                "/array-node('comments')"
            ],
            "selected": "exclude"
        },
        "operator": {
            "name": "sort",
            "state": [
                {
                    "name": "active",
                    "sort-order": {
                        "direction": "descending",
                        "json-property": "lastActivityDate"
                    }
                },
                {
                    "name": "score",
                    "sort-order": {
                        "direction": "descending",
                        "json-property": "voteCount"
                    }
                },
                {
                    "name": "relevance",
                    "sort-order": {
                        "direction": "descending",
                        "score": null
                    }
                }
            ]
        },
        "return-facets": true,
        "return-qtext": true,
        "return-query": true,
        "term": {
            "empty": {
                "apply": "all-results"
            }
        },
        "values": [
            {
                "name": "lastActivityDate",
                "range": {
                    "json-property": "lastActivityDate",
                    "type": "xs:dateTime"
                }
            }
        ]
    }
}
