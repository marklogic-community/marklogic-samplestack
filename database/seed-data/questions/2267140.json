{
  "id": "/questions/2267140",
  "creationDate": "2014-02-18T08:01:19.813",
  "body": "\n\nI have a question regarding as3 listeners, and instances of a class.\n\nThe main question: is there a way to dispatch an event from the button instance in such a way that the other button instances can listen (without the need for a listener in the document class)\n\nLets say i have a document class and a button class. The document will have several instances of the button class added to the display list. When a button is selected, the set method would be called to set the package variable of selected to that instance. It is from here i would like to dispatch an event to notify all other instances.\n\n\t|document\n\t|-button instance 1\n\t|-button instance 2\n\t|-button instance 3 (i want to send an event directly to instance 1 and 2...)\n\t\n\nMy current  solution was to create a buttonGroup class, that instantiated the buttons, and the buttons would send an event call to the group parent. \n\n\t|document\n\t|-button group (catch the event and send an event to all instances within the group)\n\t|---button instance 1\n\t|---button instance 2\n\t|---button instance 3 (dispatch  the event)\n\t\n\nBut my problem remained - if i had multiple groups and i wanted to send an event to all of the group instance.. then i would need a buttonManager class to keep track of the groups (or at least, this is how i understand it?)\n\n\t|document\n\t|-button manager (catch the event and send an event to all group instances)\n\t|\n\t|---button group 1\n\t|-----button instance 1\n\t|-----button instance 2\n\t|-----button instance 3 (dispatch  the event)\n\t|\n\t|---button group 2\n\t|-----button instance 1\n\t|-----button instance 2\n\t|-----button instance 3 (dispatch  the event)\n\t\n\nI am not adverse to these \"solutions\", i am just curious if there is another way, or if in fact my solutions are a good practice. The basis for my code sits below (minus the button manager and group classes)\n\nI hope this was descriptive enough, and be gentle, i am new to OOP...\nThanks in advance.\n\ndocument.as\n\n\timport flash.display.*;\n\timport flash.events.*;\n\timport myClasses.events.ButtonEvent;\n\t\n\tpublic class Document extends MovieClip {       \n\t\n\t    public function Document(){\n\t        trace(\"initialising Document...\");\n\t        addEventListener(Event.ADDED_TO_STAGE, popStageVars);           \n\t    }   \n\t\n\t\n\t    private function popStageVars(e:Event){\n\t        trace(\"popping stage vars...\")\n\t\n\t        var ob1:AbstractOBJ = new AbstractOBJ           \n\t        var ob2:AbstractOBJ = new AbstractOBJ           \n\t        var ob3:AbstractOBJ = new AbstractOBJ\n\t\n\t        addChild(ob1)\n\t        addChild(ob2)\n\t        addChild(ob3)\n\t\n\t\n\t        ob1.selected = ob1\n\t        ob2.selected = ob2\n\t        ob3.selected = ob3\n\t\n\t    }       \n\t\n\t}\n\t\n\nThe button class:\n\n\timport flash.display.*; \n\timport flash.events.*;\n\timport myClasses.events.ButtonEvent;\n\t\n\tpublic class ButtonOBJ extends MovieClip  implements IEventDispatcher {\n\t\n\t    internal static var _selected:Object = null\n\t\n\t    public function ButtonOBJ(){\n\t        trace(\"initialising ButtonOBJ...\");         \n\t        addEventListener(Event.ADDED_TO_STAGE, popStageVars);\n\t        addEventListener(AbstractEvent.SET_CUR, checkClip);\n\t    }\n\t\n\t\n\t    private function popStageVars(e:Event){\n\t        trace(\"popping stage vars...\" + this.name)\n\t    }       \n\t\n\t    private function checkClip(e:AbstractEvent){\n\t        trace(\"checking button registered... \" + this.name)\n\t    }\n\t\n\t    public function get selected():Object{\n\t        return _selected                        \n\t    }\n\t\n\t    public function set selected(s:Object):void{\n\t        var sName:String \n\t\n\t        if(selected != null){\n\t            sName = selected.name\n\t        }else{\n\t            sName = null\n\t        }\n\t\n\t        trace(this.name + \" is changing the current selected from: \" + sName + \" - to: \" + s.name)          \n\t\n\t        _selected = s\n\t        dispatchEvent(new AbstractEvent(AbstractEvent.SET_CUR, true));  \n\t    }       \n\t\n\t}\n\t\n\nand also the buttonEvent:\n\n\tpackage myClasses.events{       \n\t\n\timport flash.events.Event;\n\t\n\tpublic class ButtonEvent extends Event {\n\t\n\t    public static const SET_CUR:String = \"setSelected\";\n\t    public static const VERSION:Number = 1.0;\n\t\n\t    public function ButtonEvent(type:String, bubbles:Boolean=false, cancelable:Boolean=false) {         \n\t        super(type, bubbles, cancelable);\n\t    }\n\t\n\t    public override function clone():Event {\n\t        return new ButtonEvent(this.type, this.bubbles, this.cancelable);\n\t    }   \n\t\n\t}\n\t}\n\t",
  "lastActivityDate": "2014-02-18T08:28:38.360",
  "title": "AS3 Listener across object instances - possible / good or bad practice?",
  "tags": [
    "flash",
    "actionscript-3",
    "oop",
    "event-handling"
  ],
  "docScore": 0,
  "comments": [],
  "answers": [],
  "creationYearMonth": "201402",
  "itemTally": 0,
  "owner": null
}