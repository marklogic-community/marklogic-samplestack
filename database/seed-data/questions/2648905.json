{
  "id": "/questions/2648905",
  "creationDate": "2014-04-18T04:53:35.517",
  "body": "\n\nMy jqGrid that does a great job of pulling data from my database, but I'm having trouble understanding how the Add New Row functionality works.\n\nRight now, I'm able to edit inline data, but I'm not able to create a new row using the Modal Box.  I'm missing that extra logic that says, \"If this is a new row, post this to the server side URL\" instead of modifying existing data.  (Right now, hitting Submit only clears the form and reloads the grid data.)\n\nThe documentation states that Add New Row is:\n\n\tjQuery(\"#editgrid\").jqGrid('editGridRow',\"new\",{height:280,reloadAfterSubmit:false}); \n\t\n\nbut I'm not sure how to use that correctly.  I've spent alot of time studying the Demos, but they seem to all use an external button to fire the new row command, rather than using the Modal Form, which I want to do.\n\nMy complete code is here:\n\n\t<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\">\n\t<html xmlns=\"http://www.w3.org/1999/xhtml\" xml:lang=\"en\" lang=\"en\">\n\t<head>\n\t<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" />\n\t<title>jqGrid</title>  \n\t\n\t<link rel=\"stylesheet\" type=\"text/css\" media=\"screen\" href=\"../css/ui-lightness/jquery-ui-1.7.2.custom.css\" />\n\t<link rel=\"stylesheet\" type=\"text/css\" media=\"screen\" href=\"../css/ui.jqgrid.css\" />\n\t\n\t<script src=\"jquery-1.3.2.min.js\" type=\"text/javascript\"></script>\n\t<script src=\"../js/i18n/grid.locale-en.js\" type=\"text/javascript\"></script>\n\t<script src=\"jquery.jqGrid.min.js\" type=\"text/javascript\"></script>\n\t</head>\n\t<body>\n\t<h2>My Grid Data</h2>\n\t<table id=\"list\" class=\"scroll\"></table>\n\t<div id=\"pager\" class=\"scroll c1\"></div> \n\t\n\t<script type=\"text/javascript\">\n\tvar lastSelectedId;\n\t\n\tjQuery('#list').jqGrid({\n\turl:'grid.php',\n\tdatatype: 'json',\n\tmtype: 'POST',\n\tcolNames:['ID','Name', 'Price', 'Promotion'],\n\tcolModel:[    \n\t   {name:'product_id',index:'product_id', width:25,editable:false},     \n\t   {name:'name',index:'name', width:50,editable:true, edittype:'text',editoptions:{size:30,maxlength:50}},\n\t   {name:'price',index:'price', width:50, align:'right',formatter:'currency', editable:true},\n\t   {name:'on_promotion',index:'on_promotion', width:50, formatter:'checkbox',editable:true, edittype:'checkbox'}],\n\trowNum:10,\n\trowList:[5,10,20,30],\n\tpager: $('#pager'),\n\tsortname: 'product_id',\n\tviewrecords: true,\n\tsortorder: \"desc\",\n\tcaption:\"Database\",\n\twidth:500,\n\theight:150,  \n\tonSelectRow: function(id){\n\tif(id && id!==lastSelectedId){\n\t  $('#list').restoreRow(lastSelectedId);\n\t  $('#list').editRow(id,true,null,onSaveSuccess);\n\t  lastSelectedId=id; }},\n\tediturl:'grid.php?action=save'}) \n\t\n\t.jqGrid('navGrid','#pager', \n\t    {refreshicon: 'ui-icon-refresh',view:true},\n\t    {height:280,reloadAfterSubmit:true}, \n\t    {height:280,reloadAfterSubmit:true}, \n\t    {reloadAfterSubmit:true})\n\t\n\t.jqGrid('editGridRow',\"new\",{height:280,reloadAfterSubmit:false}); \n\t\n\tfunction onSaveSuccess(xhr) \n\t{response = xhr.responseText; if(response == 1) return true; return false;}\n\t\n\t</script></body></html>\n\t\n\nIf it makes it easier, I'd be willing to scrap the inline editing functionality and do editing and posting via modal boxes.\n\nAny help would be greatly appreciated.",
  "lastActivityDate": "2014-09-15T06:28:33.873",
  "title": "How to Edit or Add a New Row in jqGrid",
  "tags": [
    "jqgrid",
    "new-operator",
    "row",
    "add"
  ],
  "docScore": 0,
  "comments": [],
  "answers": [],
  "creationYearMonth": "201409",
  "itemTally": 0,
  "owner": null
}