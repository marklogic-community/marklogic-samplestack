{
  "id": "/questions/2648406",
  "creationDate": "2014-04-18T03:34:38.357",
  "body": "\n\nI have a tree view defined as follows:\n\n\t<HierarchicalDataTemplate x:Key=\"ChildTemplate\"\n\t                          ItemsSource=\"{Binding Children}\">\n\t    <TextBlock Text=\"{Binding TagName, Mode=OneWay}\"/>\n\t</HierarchicalDataTemplate>\n\t<HierarchicalDataTemplate x:Key=\"NavigationHeaderTemplate\"\n\t                          ItemsSource=\"{Binding Children}\"\n\t                          ItemTemplate=\"{StaticResource ChildTemplate}\">\n\t    <StackPanel Orientation=\"Horizontal\" Margin=\"0\">\n\t        <Image Source=\"{Binding Image}\" Height=\"16\" Width=\"16\"></Image>\n\t        <TextBlock Text=\"{Binding Header}\"></TextBlock>\n\t    </StackPanel>\n\t</HierarchicalDataTemplate>\n\t<TreeView Grid.Row=\"0\" Grid.Column=\"0\" Margin=\"0\"\n\t    FlowDirection=\"LeftToRight\"\n\t    ItemTemplate=\"{StaticResource NavigationHeaderTemplate}\"\n\t    Name=\"TreeView2\">\n\t</TreeView>\n\t\n\nThe data binding is:\n\n\tpublic class ViewTag : INotifyPropertyChanged\n\t{\n\t    private string _tagName;\n\t    public string TagName\n\t    {\n\t        get { return _tagName; }\n\t        set\n\t        {\n\t            _tagName = value;\n\t            PropertyChanged(this, new PropertyChangedEventArgs(\"Tag Name\"));\n\t        }\n\t    }\n\t    private ObservableCollection<ViewTag> _childTags;\n\t    public ObservableCollection<ViewTag> ChildTags\n\t    {\n\t        get { return _childTags; }\n\t        set\n\t        {\n\t            _childTags = value;\n\t            OnPropertyChanged(new PropertyChangedEventArgs(\"Child Tags\"));\n\t        }\n\t    }\n\t\n\t    #region INotifyPropertyChanged Members\n\t\n\t    public event PropertyChangedEventHandler PropertyChanged;\n\t    public void OnPropertyChanged(PropertyChangedEventArgs e)\n\t    {\n\t        if (PropertyChanged != null)\n\t            PropertyChanged(this, e);\n\t    }\n\t    #endregion\n\t\n\t    public ViewTag(string tagName, ObservableCollection<ViewTag> childTags)\n\t    {\n\t        _tagName = tagName;\n\t        _childTags = childTags;\n\t    }\n\t}\n\t\n\tpublic class ViewNavigationTree\n\t{\n\t    public string Image { get; set; }\n\t    public string Header { get; set; }\n\t    public ObservableCollection<ViewTag> Children { get; set; }\n\t}\n\t\n\nAnd my test binding is:\n\n\t        var xy = new List<ViewNavigationTree>();\n\t        List<ViewTag> tempTags = new List<ViewTag>();\n\t        ViewTag t1, t2, t3, t4, t5, t6;\n\t        t1 = new ViewTag(\"Computers\", null);\n\t        t2 = new ViewTag(\"Chemistry\", null);\n\t        t3 = new ViewTag(\"Physics\", null);\n\t        var t123 = new ObservableCollection<ViewTag>();\n\t        t123.Add(t1);\n\t        t123.Add(t2);\n\t        t123.Add(t3);\n\t        t4 = new ViewTag(\"Science\", t123);\n\t        var t1234 = new ObservableCollection<ViewTag>();\n\t        t1234.Add(t4);\n\t        t5 = new ViewTag(\"All Items\", t1234);\n\t        t6 = new ViewTag(\"Untagged\", null);\n\t\n\t        var tall = new ObservableCollection<ViewTag>();\n\t        tall.Add(t5);\n\t        tall.Add(t6);\n\t        xy.Add(new ViewNavigationTree() { Header = \"Tags\", Image = \"img/tags2.ico\", Children = tall });\n\t\n\t        var rootFolders = eDataAccessLayer.RepositoryFacrory.Instance.MonitoredDirectoriesRepository.Directories.ToList();\n\t        var viewFolders = new ObservableCollection<ViewTag>();\n\t        foreach (var vf in rootFolders)\n\t        {\n\t            viewFolders.Add(new ViewTag(vf.FullPath, null));\n\t        }\n\t        xy.Add(new ViewNavigationTree() { Header = \"Folders\", Image = \"img/folder_16x16.png\", Children = viewFolders });\n\t\n\t        xy.Add(new ViewNavigationTree() { Header = \"Authors\", Image = \"img/user_16x16.png\", Children = null });\n\t        xy.Add(new ViewNavigationTree() { Header = \"Publishers\", Image = \"img/powerplant_32.png\", Children = null });\n\t\n\t        TreeView2.ItemsSource = xy;\n\t\n\nProblem is, the tree only shows:\n\n\t+ Tags\n\t    All Items\n\t    Untagged\n\t+ Folders\n\t    dir 1\n\t    dir 2\n\t    ...\n\tAuthors\n\tPublishers\n\t\n\nThe items I added under \"All Items\" aren't displayed.\n\nBeing a WPF nub, i can't put my finger on the problem. Any help will be greatly appriciated.",
  "lastActivityDate": "2014-04-18T04:19:32.153",
  "title": "WPF: Problem with TreeView databinding",
  "tags": [
    "c#",
    "wpf",
    "data-binding",
    "treeview"
  ],
  "docScore": 0,
  "comments": [],
  "answers": [],
  "creationYearMonth": "201404",
  "itemTally": 0,
  "owner": null
}